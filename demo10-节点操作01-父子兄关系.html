<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    
  </head>
  <body>
    <p>
      节点操作：利用父子兄节点关系获取元素。逻辑性强、且不繁琐，但是兼容性差。
    </p>
    <br />
    <p>
      节点概述：
      <br />
      节点至少拥有nodeType（节点类型）、nodeName（节点名称）、和nodeValue（节点值）这三个基本属性。
      <br /><br />
      元素节点为nodeType是1<br />
      属性节点为nodeType是2<br />
      文本节点为nodeType是3，文本节点包含文字、空格、换行<br />
      <br />
      在实际操作中，节点操作主要操作的是元素节点
    </p>
    <p>父节点：document.parentNode</p>
    <div id="demo1">
      <div id="box"></div>
      <div id="box"></div>
    </div>
    <div id="demo2">
        <div id="demo2"></div>
    </div>
    <script>
      var box = document.getElementById("box");
      console.log(box.parentNode);
      ///box = null;
    </script>
    <p>子节点：<br />1.document.childNodes <br /></p>
      <ul id="demo3">
        <li></li>
        <li></li>
        <li></li>
      </ul>
    </div>
    <script>
      var ul = document.getElementById("demo2");
      console.log(ul.childNodes); //得到所有的子节点，包含文本节点，元素节点等等
      for (var i = 0; i <ul.childNodes.length; i++){
          if(ul.childNodes[i].nodeType ==1){
            console.log(ul.childNodes[i]);
          }
      }
    </script>
    <p>2.document.children（非标准）是一个只读属性，返回所有的子元素节点。它只返回子元素节点，其余节点不返回。</p><br />
    <script>
        console.log(ul.children);
    </script>
    <p>3.element.firstChild<br />   
        返回第一个子节点，找不到则返回null。包含所有的节点<br>
        element.laseChild<br />
        返回最后一个子节点，找不到则返回null。包含所有的节点<br>
        兼容性问题ie9
    </p>
    <script>
        console.log(ul.firstChild);
    </script>
    <p>4.element.firstElementChild返回第一个子节点<br />
        element.lastElementChild返回最后一个子节点<br />
    </p>
     <p>在实际开发中，既没有兼容性问题又返回第一个子元素</p>
     <script>
         console.log(ul.children[0]);
         console.log(ul.children[ul.children.length - 1]);
     </script>
     <p>案例：新浪下拉菜单</p>
     <div id="demo3">
        <ul id="nav">
            <li>
                <a href="">微博</a>
                <ul>
                    <li>私信</li>
                    <li>评论</li>
                    <li>@我</li>
                </ul>
            </li>
            <li>
                <a href="">微信</a>
                <ul>
                    <li>私信</li>
                    <li>私信</li>
                    <li>私信</li>
                </ul>
            </li>
            <li>
                <a href="">QQ</a>
                <ul>
                    <li>私信</li>
                    <li>私信</li>
                    <li>评论</li>
                </ul>
            </li>
        </ul>
     </div>
     <p>
         兄弟节点：<br>
         1.element.nextSibling<br>
         返回当前元素的下一个兄弟节点，找不到则返回null。包含所有节点<br>
         2.box.nextElementSibling<br>
         返回当前元素的下一个兄弟元素节点，找不到则返回null。包含所有节点<br>
         兼容性ie9
     </p>
     <script>
         console.log(box.nextSibling);
         console.log(box.nextElementSibling);
         console.log(box.previousSibling);
         console.log(box.previousElementSibling);
         //封装一个兄弟节点的操作
        function getNextElementSibling(element){
            var el = element;
            while(el = el.nextSibling){
                if(el.nodeType == 1){
                    return el;
                }
            }
            return null;
        }
     </script>
  </body>
</html>
